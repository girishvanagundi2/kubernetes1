
https://birthday.play-with-docker.com/kubernetes-docker-desktop/

https://stackoverflow.com/questions/49387263/docker-error-response-from-daemon-get-https-registry-1-docker-io-v2-servic

https://docs.docker.com/desktop/use-desktop/images/  --docs

Microsoft Windows [Version 10.0.19045.4780]
(c) Microsoft Corporation. All rights reserved.

C:\Users\vg5>kubectl
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes
  events          List events

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh, fish, or powershell)

Subcommands provided by plugins:

Other Commands:
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of "group/version"
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]

Use "kubectl <command> --help" for more information about a given command.
Use "kubectl options" for a list of global command-line options (applies to all commands).

C:\Users\vg5>kubectl get nodes
E0919 15:50:36.969475    1128 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:50:36.973130    1128 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:50:36.975227    1128 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:50:36.976990    1128 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:50:36.978580    1128 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
Unable to connect to the server: dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.

C:\Users\vg5>kubectl get nodes
E0919 15:58:36.977577   13152 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:58:36.980572   13152 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:58:36.982571   13152 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:58:36.983571   13152 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
E0919 15:58:36.985573   13152 memcache.go:265] couldn't get current server API group list: Get "http://localhost:8080/api?timeout=32s": dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.
Unable to connect to the server: dial tcp [::1]:8080: connectex: No connection could be made because the target machine actively refused it.

C:\Users\vg5>kubectl
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes
  events          List events

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh, fish, or powershell)

Subcommands provided by plugins:

Other Commands:
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of "group/version"
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]

Use "kubectl <command> --help" for more information about a given command.
Use "kubectl options" for a list of global command-line options (applies to all commands).

C:\Users\vg5>docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

C:\Users\vg5>docker container ls
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES

C:\Users\vg5>docker info
Client:
 Version:    27.1.1
 Context:    desktop-linux
 Debug Mode: false
 Plugins:
  buildx: Docker Buildx (Docker Inc.)
    Version:  v0.16.1-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-buildx.exe
  compose: Docker Compose (Docker Inc.)
    Version:  v2.29.1-desktop.1
    Path:     C:\Program Files\Docker\cli-plugins\docker-compose.exe
  debug: Get a shell into any image or container (Docker Inc.)
    Version:  0.0.34
    Path:     C:\Program Files\Docker\cli-plugins\docker-debug.exe
  desktop: Docker Desktop commands (Alpha) (Docker Inc.)
    Version:  v0.0.14
    Path:     C:\Program Files\Docker\cli-plugins\docker-desktop.exe
  dev: Docker Dev Environments (Docker Inc.)
    Version:  v0.1.2
    Path:     C:\Program Files\Docker\cli-plugins\docker-dev.exe
  extension: Manages Docker extensions (Docker Inc.)
    Version:  v0.2.25
    Path:     C:\Program Files\Docker\cli-plugins\docker-extension.exe
  feedback: Provide feedback, right in your terminal! (Docker Inc.)
    Version:  v1.0.5
    Path:     C:\Program Files\Docker\cli-plugins\docker-feedback.exe
  init: Creates Docker-related starter files for your project (Docker Inc.)
    Version:  v1.3.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-init.exe
  sbom: View the packaged-based Software Bill Of Materials (SBOM) for an image (Anchore Inc.)
    Version:  0.6.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-sbom.exe
  scout: Docker Scout (Docker Inc.)
    Version:  v1.11.0
    Path:     C:\Program Files\Docker\cli-plugins\docker-scout.exe

Server:
 Containers: 4
  Running: 0
  Paused: 0
  Stopped: 4
 Images: 1
 Server Version: 27.1.1
 Storage Driver: overlay2
  Backing Filesystem: extfs
  Supports d_type: true
  Using metacopy: false
  Native Overlay Diff: true
  userxattr: false
 Logging Driver: json-file
 Cgroup Driver: cgroupfs
 Cgroup Version: 1
 Plugins:
  Volume: local
  Network: bridge host ipvlan macvlan null overlay
  Log: awslogs fluentd gcplogs gelf journald json-file local splunk syslog
 Swarm: inactive
 Runtimes: io.containerd.runc.v2 runc
 Default Runtime: runc
 Init Binary: docker-init
 containerd version: 2bf793ef6dc9a18e00cb12efb64355c2c9d5eb41
 runc version: v1.1.13-0-g58aa920
 init version: de40ad0
 Security Options:
  seccomp
   Profile: unconfined
 Kernel Version: 5.15.153.1-microsoft-standard-WSL2
 Operating System: Docker Desktop
 OSType: linux
 Architecture: x86_64
 CPUs: 8
 Total Memory: 7.609GiB
 Name: docker-desktop
 ID: 9211d694-4aaf-4b8d-9598-1fbe45253814
 Docker Root Dir: /var/lib/docker
 Debug Mode: false
 HTTP Proxy: http.docker.internal:3128
 HTTPS Proxy: http.docker.internal:3128
 No Proxy: hubproxy.docker.internal
 Labels:
  com.docker.desktop.address=npipe://\\.\pipe\docker_cli
 Experimental: false
 Insecure Registries:
  hubproxy.docker.internal:5555
  127.0.0.0/8
 Live Restore Enabled: false

WARNING: No blkio throttle.read_bps_device support
WARNING: No blkio throttle.write_bps_device support
WARNING: No blkio throttle.read_iops_device support
WARNING: No blkio throttle.write_iops_device support
WARNING: daemon is not using the default seccomp profile

C:\Users\vg5>


////////////////////////
//////////////
/////////////////////////
C:\Users\vg5>kubectl
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes
  events          List events

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh, fish, or powershell)

Subcommands provided by plugins:

Other Commands:
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of "group/version"
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]

Use "kubectl <command> --help" for more information about a given command.
Use "kubectl options" for a list of global command-line options (applies to all commands).

C:\Users\vg5>kubectl api-resources
NAME                                SHORTNAMES   APIVERSION                        NAMESPACED   KIND
bindings                                         v1                                true         Binding
componentstatuses                   cs           v1                                false        ComponentStatus
configmaps                          cm           v1                                true         ConfigMap
endpoints                           ep           v1                                true         Endpoints
events                              ev           v1                                true         Event
limitranges                         limits       v1                                true         LimitRange
namespaces                          ns           v1                                false        Namespace
nodes                               no           v1                                false        Node
persistentvolumeclaims              pvc          v1                                true         PersistentVolumeClaim
persistentvolumes                   pv           v1                                false        PersistentVolume
pods                                po           v1                                true         Pod
podtemplates                                     v1                                true         PodTemplate
replicationcontrollers              rc           v1                                true         ReplicationController
resourcequotas                      quota        v1                                true         ResourceQuota
secrets                                          v1                                true         Secret
serviceaccounts                     sa           v1                                true         ServiceAccount
services                            svc          v1                                true         Service
mutatingwebhookconfigurations                    admissionregistration.k8s.io/v1   false        MutatingWebhookConfiguration
validatingadmissionpolicies                      admissionregistration.k8s.io/v1   false        ValidatingAdmissionPolicy
validatingadmissionpolicybindings                admissionregistration.k8s.io/v1   false        ValidatingAdmissionPolicyBinding
validatingwebhookconfigurations                  admissionregistration.k8s.io/v1   false        ValidatingWebhookConfiguration
customresourcedefinitions           crd,crds     apiextensions.k8s.io/v1           false        CustomResourceDefinition
apiservices                                      apiregistration.k8s.io/v1         false        APIService
controllerrevisions                              apps/v1                           true         ControllerRevision
daemonsets                          ds           apps/v1                           true         DaemonSet
deployments                         deploy       apps/v1                           true         Deployment
replicasets                         rs           apps/v1                           true         ReplicaSet
statefulsets                        sts          apps/v1                           true         StatefulSet
selfsubjectreviews                               authentication.k8s.io/v1          false        SelfSubjectReview
tokenreviews                                     authentication.k8s.io/v1          false        TokenReview
localsubjectaccessreviews                        authorization.k8s.io/v1           true         LocalSubjectAccessReview
selfsubjectaccessreviews                         authorization.k8s.io/v1           false        SelfSubjectAccessReview
selfsubjectrulesreviews                          authorization.k8s.io/v1           false        SelfSubjectRulesReview
subjectaccessreviews                             authorization.k8s.io/v1           false        SubjectAccessReview
horizontalpodautoscalers            hpa          autoscaling/v2                    true         HorizontalPodAutoscaler
cronjobs                            cj           batch/v1                          true         CronJob
jobs                                             batch/v1                          true         Job
certificatesigningrequests          csr          certificates.k8s.io/v1            false        CertificateSigningRequest
leases                                           coordination.k8s.io/v1            true         Lease
endpointslices                                   discovery.k8s.io/v1               true         EndpointSlice
events                              ev           events.k8s.io/v1                  true         Event
flowschemas                                      flowcontrol.apiserver.k8s.io/v1   false        FlowSchema
prioritylevelconfigurations                      flowcontrol.apiserver.k8s.io/v1   false        PriorityLevelConfiguration
ingressclasses                                   networking.k8s.io/v1              false        IngressClass
ingresses                           ing          networking.k8s.io/v1              true         Ingress
networkpolicies                     netpol       networking.k8s.io/v1              true         NetworkPolicy
runtimeclasses                                   node.k8s.io/v1                    false        RuntimeClass
poddisruptionbudgets                pdb          policy/v1                         true         PodDisruptionBudget
clusterrolebindings                              rbac.authorization.k8s.io/v1      false        ClusterRoleBinding
clusterroles                                     rbac.authorization.k8s.io/v1      false        ClusterRole
rolebindings                                     rbac.authorization.k8s.io/v1      true         RoleBinding
roles                                            rbac.authorization.k8s.io/v1      true         Role
priorityclasses                     pc           scheduling.k8s.io/v1              false        PriorityClass
csidrivers                                       storage.k8s.io/v1                 false        CSIDriver
csinodes                                         storage.k8s.io/v1                 false        CSINode
csistoragecapacities                             storage.k8s.io/v1                 true         CSIStorageCapacity
storageclasses                      sc           storage.k8s.io/v1                 false        StorageClass
volumeattachments                                storage.k8s.io/v1                 false        VolumeAttachment

C:\Users\vg5>



////////////////
C:\Users\vg5>kubectl get nodes
NAME             STATUS   ROLES           AGE   VERSION
docker-desktop   Ready    control-plane   4m    v1.30.2

///////////////////

C:\Users\vg5>docker container ls
CONTAINER ID   IMAGE                                COMMAND                  CREATED         STATUS         PORTS                NAMES
bb0d9c7d069b   docker/desktop-vpnkit-controller     "/kube-vpnkit-forwar…"   4 minutes ago   Up 4 minutes                        k8s_vpnkit-controller_vpnkit-controller_kube-system_3dcd273e-9928-4720-a85f-a7081f68402f_0
e572f0c61a1c   docker/desktop-storage-provisioner   "/storage-provisione…"   4 minutes ago   Up 4 minutes                        k8s_storage-provisioner_storage-provisioner_kube-system_e8f1d493-7d53-415d-ac07-d9974f5e8a4e_0
ffb3f9df92cf   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_vpnkit-controller_kube-system_3dcd273e-9928-4720-a85f-a7081f68402f_0
73b94ba006b2   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_storage-provisioner_kube-system_e8f1d493-7d53-415d-ac07-d9974f5e8a4e_0
88ae16a0f653   cbb01a7bd410                         "/coredns -conf /etc…"   4 minutes ago   Up 4 minutes                        k8s_coredns_coredns-7db6d8ff4d-z492b_kube-system_4331dc74-54ff-45c5-9e79-9ad6376b03a5_0
0ada63279719   cbb01a7bd410                         "/coredns -conf /etc…"   4 minutes ago   Up 4 minutes                        k8s_coredns_coredns-7db6d8ff4d-ns5bz_kube-system_d7c28f53-2d56-4e15-aa7a-54e0b2b53091_0
b33f8be78e44   53c535741fb4                         "/usr/local/bin/kube…"   4 minutes ago   Up 4 minutes                        k8s_kube-proxy_kube-proxy-jnqg5_kube-system_af809172-3851-405d-8ddd-09b7e853fbfd_0
33cd70b4b37b   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_coredns-7db6d8ff4d-ns5bz_kube-system_d7c28f53-2d56-4e15-aa7a-54e0b2b53091_0
4ff90c26a408   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_coredns-7db6d8ff4d-z492b_kube-system_4331dc74-54ff-45c5-9e79-9ad6376b03a5_0
97e5d32ccf60   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_kube-proxy-jnqg5_kube-system_af809172-3851-405d-8ddd-09b7e853fbfd_0
8d7f3a20d80e   3861cfcd7c04                         "etcd --advertise-cl…"   4 minutes ago   Up 4 minutes                        k8s_etcd_etcd-docker-desktop_kube-system_3436b10c8a489053c5f3ba0f32b03652_0
1bcf71ffa1dd   7820c83aa139                         "kube-scheduler --au…"   4 minutes ago   Up 4 minutes                        k8s_kube-scheduler_kube-scheduler-docker-desktop_kube-system_aa7bbfbbe0588d06569a828ad4116992_0
fc774ff5b671   56ce0fd9fb53                         "kube-apiserver --ad…"   4 minutes ago   Up 4 minutes                        k8s_kube-apiserver_kube-apiserver-docker-desktop_kube-system_3fe11f12ace7990088a27f5ac063bceb_0
0257f59a9079   e874818b3caa                         "kube-controller-man…"   4 minutes ago   Up 4 minutes                        k8s_kube-controller-manager_kube-controller-manager-docker-desktop_kube-system_2d884e49e38d30ded4b72cbfd8a93ca9_0
a83aa899d090   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_kube-scheduler-docker-desktop_kube-system_aa7bbfbbe0588d06569a828ad4116992_0
dda96e982108   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_kube-controller-manager-docker-desktop_kube-system_2d884e49e38d30ded4b72cbfd8a93ca9_0
cdf9cda58158   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_kube-apiserver-docker-desktop_kube-system_3fe11f12ace7990088a27f5ac063bceb_0
f4b0616bde15   registry.k8s.io/pause:3.9            "/pause"                 4 minutes ago   Up 4 minutes                        k8s_POD_etcd-docker-desktop_kube-system_3436b10c8a489053c5f3ba0f32b03652_0
dfe02e4a8173   docker/getting-started               "/docker-entrypoint.…"   5 minutes ago   Up 5 minutes   0.0.0.0:80->80/tcp   recursing_leakey

//////////////////////

kubectl apply -f https://raw.githubusercontent.com/docker/docker-birthday/master/resources/kubernetes-docker-desktop/vote.yaml



//////////////////////////to do
C:\wrkspace2\example-voting-app-main>docker compose up
[+] Running 2/2
 ? db Error    Get "https://registry-1.docker.io/v2/": writing response to registry-1.docker.io:443: ...           0.7s
 ? redis Error context canceled                                                                                    0.7s
Error response from daemon: Get "https://registry-1.docker.io/v2/": writing response to registry-1.docker.io:443: TLS connect to proxy.cat.com:80: EOF

C:\wrkspace2\example-voting-app-main>docker login
Log in with your Docker ID or email address to push and pull images from Docker Hub. If you don't have a Docker ID, head over to https://hub.docker.com/ to create one.
You can log in with your password or a Personal Access Token (PAT). Using a limited-scope PAT grants better security and is required for organizations using SSO. Learn more at https://docs.docker.com/go/access-tokens/

Username: v_girish@cat.com
Password:
Error response from daemon: Get "https://registry-1.docker.io/v2/": writing response to registry-1.docker.io:443: TLS connect to proxy.cat.com:80: EOF

C:\wrkspace2\example-voting-app-main>

/////////////////////////////////


Microsoft Windows [Version 10.0.19045.4894]
(c) Microsoft Corporation. All rights reserved.

C:\Users\vg5>kubectl-convert
error: must specify one of -f and -k

C:\Users\vg5>cd \

C:\>cd practisebase\spring-boot-postgres-on-k8s-sample\specs

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>kubectl-convert -f postgres.yml > postgresnew.yml

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>kubectl create -f specs/postgresnew.yml
error: the path "specs/postgresnew.yml" does not exist

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>cd ..

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/postgresnew.yml
deployment.apps/postgres created
Error from server (AlreadyExists): error when creating "specs/postgresnew.yml": configmaps "postgres-config" already exists
Error from server (AlreadyExists): error when creating "specs/postgresnew.yml": persistentvolumeclaims "postgres-pv-claim" already exists
Error from server (AlreadyExists): error when creating "specs/postgresnew.yml": services "postgres" already exists

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl
kubectl controls the Kubernetes cluster manager.

 Find more information at: https://kubernetes.io/docs/reference/kubectl/

Basic Commands (Beginner):
  create          Create a resource from a file or from stdin
  expose          Take a replication controller, service, deployment or pod and expose it as a new Kubernetes service
  run             Run a particular image on the cluster
  set             Set specific features on objects

Basic Commands (Intermediate):
  explain         Get documentation for a resource
  get             Display one or many resources
  edit            Edit a resource on the server
  delete          Delete resources by file names, stdin, resources and names, or by resources and label selector

Deploy Commands:
  rollout         Manage the rollout of a resource
  scale           Set a new size for a deployment, replica set, or replication controller
  autoscale       Auto-scale a deployment, replica set, stateful set, or replication controller

Cluster Management Commands:
  certificate     Modify certificate resources
  cluster-info    Display cluster information
  top             Display resource (CPU/memory) usage
  cordon          Mark node as unschedulable
  uncordon        Mark node as schedulable
  drain           Drain node in preparation for maintenance
  taint           Update the taints on one or more nodes

Troubleshooting and Debugging Commands:
  describe        Show details of a specific resource or group of resources
  logs            Print the logs for a container in a pod
  attach          Attach to a running container
  exec            Execute a command in a container
  port-forward    Forward one or more local ports to a pod
  proxy           Run a proxy to the Kubernetes API server
  cp              Copy files and directories to and from containers
  auth            Inspect authorization
  debug           Create debugging sessions for troubleshooting workloads and nodes
  events          List events

Advanced Commands:
  diff            Diff the live version against a would-be applied version
  apply           Apply a configuration to a resource by file name or stdin
  patch           Update fields of a resource
  replace         Replace a resource by file name or stdin
  wait            Experimental: Wait for a specific condition on one or many resources
  kustomize       Build a kustomization target from a directory or URL

Settings Commands:
  label           Update the labels on a resource
  annotate        Update the annotations on a resource
  completion      Output shell completion code for the specified shell (bash, zsh, fish, or powershell)

Subcommands provided by plugins:
  convert.exe   The command convert.exe is a plugin installed by the user

Other Commands:
  api-resources   Print the supported API resources on the server
  api-versions    Print the supported API versions on the server, in the form of "group/version"
  config          Modify kubeconfig files
  plugin          Provides utilities for interacting with plugins
  version         Print the client and server version information

Usage:
  kubectl [flags] [options]

Use "kubectl <command> --help" for more information about a given command.
Use "kubectl options" for a list of global command-line options (applies to all commands).

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete -f specs/postgresnew.yml
configmap "postgres-config" deleted
persistentvolumeclaim "postgres-pv-claim" deleted
deployment.apps "postgres" deleted
service "postgres" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/postgresnew.yml
configmap/postgres-config created
persistentvolumeclaim/postgres-pv-claim created
deployment.apps/postgres created
service/postgres created

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create configmap hostname-config --from-literal=postgres_host=$(kubectl get svc postgres -o jsonpath="{.spec.clusterIP}")
error: exactly one NAME is required, got 4
See 'kubectl create configmap -h' for help and examples

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc postgres -o jsonpath="{.spec.clusterIP}"
10.101.196.121
C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc postgres -o jsonpath="{.spec.clusterIP}"
10.101.196.121
C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create configmap hostname-config --from-literal=postgres_host=10.101.196.121
configmap/hostname-config created

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1
ERROR: "docker buildx build" requires exactly 1 argument.
See 'docker buildx build --help'.

Usage:  docker buildx build [OPTIONS] PATH | URL | -

Start a build

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .
[+] Building 2.8s (3/3) FINISHED                                                                                                                       docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                   0.0s
 => => transferring dockerfile: 168B                                                                                                                                   0.0s
 => ERROR [internal] load metadata for docker.io/library/openjdk:8                                                                                                     2.7s
 => [auth] library/openjdk:pull token for registry-1.docker.io                                                                                                         0.0s
------
 > [internal] load metadata for docker.io/library/openjdk:8:
------
Dockerfile:1
--------------------
   1 | >>> FROM openjdk:8
   2 |     COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
   3 |     EXPOSE 8080/tcp
--------------------
ERROR: failed to solve: openjdk:8: failed to resolve source metadata for docker.io/library/openjdk:8: failed to authorize: failed to fetch oauth token: Post "https://auth.docker.io/token": read tcp 10.97.249.46:55863->3.219.239.5:443: wsarecv: An existing connection was forcibly closed by the remote host.

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/z7pvpm0d8vqsrqc2zvzzz41ea

[+] Building 0.9s (3/3) FINISHED                                                                                                                       docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                   0.0s
 => => transferring dockerfile: 168B                                                                                                                                   0.0s
 => ERROR [internal] load metadata for docker.io/library/openjdk:8                                                                                                     0.8s
 => [auth] library/openjdk:pull token for registry-1.docker.io                                                                                                         0.0s
------
 > [internal] load metadata for docker.io/library/openjdk:8:
------
Dockerfile:1
--------------------
   1 | >>> FROM openjdk:8
   2 |     COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
   3 |     EXPOSE 8080/tcp
--------------------
ERROR: failed to solve: openjdk:8: failed to resolve source metadata for docker.io/library/openjdk:8: failed to authorize: failed to fetch oauth token: Post "https://auth.docker.io/token": read tcp 10.97.249.46:56012->34.226.69.105:443: wsarecv: An existing connection was forcibly closed by the remote host.

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/mbvbol5v22nd483ha2m76jkww

[+] Building 2.0s (3/3) FINISHED                                                                                                                       docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                   0.0s
 => => transferring dockerfile: 168B                                                                                                                                   0.0s
 => ERROR [internal] load metadata for docker.io/library/openjdk:8                                                                                                     1.9s
 => [auth] library/openjdk:pull token for registry-1.docker.io                                                                                                         0.0s
------
 > [internal] load metadata for docker.io/library/openjdk:8:
------
Dockerfile:1
--------------------
   1 | >>> FROM openjdk:8
   2 |     COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
   3 |     EXPOSE 8080/tcp
--------------------
ERROR: failed to solve: openjdk:8: failed to resolve source metadata for docker.io/library/openjdk:8: failed to authorize: failed to fetch oauth token: Post "https://auth.docker.io/token": read tcp 10.97.249.46:51193->54.196.99.49:443: wsarecv: An existing connection was forcibly closed by the remote host.

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/wze9a3q0k8ook12u9zwa99ivx

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .






///////////////////////////////Sample  k8


C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete -f specs/postgresnew.yml
configmap "postgres-config" deleted
persistentvolumeclaim "postgres-pv-claim" deleted
deployment.apps "postgres" deleted
service "postgres" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/postgresnew.yml
configmap/postgres-config created
persistentvolumeclaim/postgres-pv-claim created
deployment.apps/postgres created
service/postgres created

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create configmap hostname-config --from-literal=postgres_host=$(kubectl get svc postgres -o jsonpath="{.spec.clusterIP}")
error: exactly one NAME is required, got 4
See 'kubectl create configmap -h' for help and examples

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc postgres -o jsonpath="{.spec.clusterIP}"
10.101.196.121

kubectl create configmap hostname-config --from-literal=postgres_host=10.101.196.121



docker build -t <your Docker Hub account>/spring-boot-postgres-on-k8s:v1 .

docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .

///////////////////////
https://stackoverflow.com/questions/65361083/docker-build-failed-to-fetch-oauth-token-for-openjdk  *******
https://github.com/mkjelland/spring-boot-postgres-on-k8s-sample


////////////////////
C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .
[+] Building 0.8s (3/3) FINISHED                                                                                                                       docker:desktop-linux
 => [internal] load build definition from Dockerfile                                                                                                                   0.0s
 => => transferring dockerfile: 168B                                                                                                                                   0.0s
 => ERROR [internal] load metadata for docker.io/library/openjdk:8                                                                                                     0.7s
 => [auth] library/openjdk:pull token for registry-1.docker.io                                                                                                         0.0s
------
 > [internal] load metadata for docker.io/library/openjdk:8:
------
Dockerfile:1
--------------------
   1 | >>> FROM openjdk:8
   2 |     COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
   3 |     EXPOSE 8080/tcp
--------------------
ERROR: failed to solve: openjdk:8: failed to resolve source metadata for docker.io/library/openjdk:8: failed to authorize: failed to fetch oauth token: Post "https://auth.docker.io/token": read tcp 10.97.249.46:56481->54.196.99.49:443: wsarecv: An existing connection was forcibly closed by the remote host.

View build details: docker-desktop://dashboard/build/desktop-linux/desktop-linux/ik55ucoxw6nt7flfkvkaba6b7

C:\practisebase\spring-boot-postgres-on-k8s-sample>setx COMPOSE_DOCKER_CLI_BUILD 0

SUCCESS: Specified value was saved.

C:\practisebase\spring-boot-postgres-on-k8s-sample>setx DOCKER_BUILDKIT 0

SUCCESS: Specified value was saved.

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .

docker push  girishvdock1/spring-boot-postgres-on-k8s:v1


--restart docker 

////////////////////////////////
C:\Users\vg5>cd \

C:\>cd practisebase\spring-boot-postgres-on-k8s-sample

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker login
Authenticating with existing credentials...
Login Succeeded

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            BuildKit is currently disabled; enable it by removing the DOCKER_BUILDKIT=0
            environment-variable.

Sending build context to Docker daemon  34.29MB
Step 1/4 : FROM openjdk:8
8: Pulling from library/openjdk
001c52e26ad5: Pull complete
d9d4b9b6e964: Pull complete
2068746827ec: Pull complete
9daef329d350: Pull complete
d85151f15b66: Pull complete
52a8c426d30b: Pull complete
8754a66e0050: Pull complete
Digest: sha256:86e863cc57215cfb181bd319736d0baf625fe8f150577f9eb58bd937f5452cb8
Status: Downloaded newer image for openjdk:8
 ---> b273004037cc
Step 2/4 : COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
 ---> 5f583337b68e
Step 3/4 : EXPOSE 8080/tcp
 ---> Running in b0a0262340cf
 ---> Removed intermediate container b0a0262340cf
 ---> 26a10e59e732
Step 4/4 : ENTRYPOINT ["java", "-jar", "/app.jar"]
 ---> Running in 11573d8f0d0e
 ---> Removed intermediate container 11573d8f0d0e
 ---> ba5b5969a4cc
Successfully built ba5b5969a4cc
Successfully tagged girishvdock1/spring-boot-postgres-on-k8s:v1
SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.

C:\practisebase\spring-boot-postgres-on-k8s-sample>docker push  girishvdock1/spring-boot-postgres-on-k8s:v1
The push refers to repository [docker.io/girishvdock1/spring-boot-postgres-on-k8s]
d3c060ac74d5: Pushed
6b5aaff44254: Mounted from library/openjdk
53a0b163e995: Mounted from library/openjdk
b626401ef603: Mounted from library/openjdk
9b55156abf26: Mounted from library/openjdk
293d5db30c9f: Mounted from library/openjdk
03127cdb479b: Mounted from library/openjdk
9c742cd6c7a5: Mounted from library/openjdk
v1: digest: sha256:afc149fa96e46fa14da004e066b5a99a2e1b1dd814bfbc44a03e2138fb9a1165 size: 2007

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/spring-boot-app.yml
error: resource mapping not found for name: "spring-boot-postgres-sample" namespace: "default" from "specs/spring-boot-app.yml": no matches for kind "Deployment" in version "extensions/v1beta1"
ensure CRDs are installed first

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl-convert -f specs/spring-boot-app.yml > specs/spring-boot-appnew.yml

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/spring-boot-appnew.yml
deployment.apps/spring-boot-postgres-sample created

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl expose deployment spring-boot-postgres-sample --type=LoadBalancer --port=8080
service/spring-boot-postgres-sample exposed

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc spring-boot-postgres-sample
NAME                          TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
spring-boot-postgres-sample   LoadBalancer   10.96.235.24   localhost     8080:32120/TCP   112s

C:\practisebase\spring-boot-postgres-on-k8s-sample>


=========
kubectl set image deployment/spring-boot-postgres-sample spring-boot-postgres-sample=<your Docker Hub account>/spring-boot-postgres-on-k8s:v2

kubectl set image deployment/spring-boot-postgres-sample spring-boot-postgres-sample=girishvdock1/spring-boot-postgres-on-k8s:v3


kubectl set image deployment/spring-boot-postgres-sample spring-boot-postgres-sample=girishvdock1/spring-boot-postgres-on-k8s:v4
=======

docker run --hostname=spring-boot-postgres-sample-9c986b87b-cqcbn --user=65535:65535 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin --network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2024-12-17T08:00:53.657464593Z' --label='annotation.kubernetes.io/config.source=api' --label='app=spring-boot-postgres-sample' --label='io.kubernetes.container.name=POD' --label='io.kubernetes.docker.type=podsandbox' --label='io.kubernetes.pod.name=spring-boot-postgres-sample-9c986b87b-cqcbn' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=3c06e0b6-1fee-48f8-9a98-2558fd2d1f76' --label='pod-template-hash=9c986b87b' --runtime=runc -d registry.k8s.io/pause:3.9


///////////////latest 
C:\practisebase\spring-boot-postgres-on-k8s-sample>docker build -t girishvdock1/spring-boot-postgres-on-k8s:v1 .
DEPRECATED: The legacy builder is deprecated and will be removed in a future release.
            BuildKit is currently disabled; enable it by removing the DOCKER_BUILDKIT=0
            environment-variable.

Sending build context to Docker daemon  34.29MB
Step 1/4 : FROM openjdk:8
 ---> b273004037cc
Step 2/4 : COPY target/postgres-demo-0.0.1-SNAPSHOT.jar /app.jar
 ---> Using cache
 ---> e79d656fad24
Step 3/4 : EXPOSE 8080/tcp
 ---> Using cache
 ---> fdfbd8c9e144
Step 4/4 : ENTRYPOINT ["java", "-jar", "/app.jar"]
 ---> Using cache
 ---> 260b5ba85ff8
Successfully built 260b5ba85ff8
Successfully tagged girishvdock1/spring-boot-postgres-on-k8s:v1
SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.



//////////////////clean up images

C:\practisebase\spring-boot-postgres-on-k8s-sample> docker image prune -a
WARNING! This will remove all images without at least one container associated to them.
Are you sure you want to continue? [y/N] y
Deleted Images:
untagged: docker/desktop-kubernetes:kubernetes-v1.30.2-cni-v1.4.0-critools-v1.29.0-cri-dockerd-v0.3.11-1-debian
untagged: docker/desktop-kubernetes@sha256:c86a2c3962729d12e51fbb4c8feeefea67778a70a6ffecf3baff3039d80b4cf5
deleted: sha256:8b7b9de36bd5f5336bb67cdb6d8e69f9d51cf493f7ab119804aab5fbf2ad5476
deleted: sha256:e2fdf2f4ba4c9e700a355750cfe88d8cfbe45cd8f84c204e889a153bb5067677
deleted: sha256:f00baeb4982eba4b4f8d743cb913937bfe119b6e61ea51f5a8f40aae172a8df3
deleted: sha256:977bf7aa14dddd3f89f7ccc5fe459c41fc99c282acd89e292d4681128ddb3dd9
deleted: sha256:e2c213af79c21afd6002ef834c29edbc2950ec6763ecc758c8fd42356e35207b
untagged: girishvdock1/spring-boot-postgres-on-k8s:v1
untagged: openjdk:8
untagged: openjdk@sha256:86e863cc57215cfb181bd319736d0baf625fe8f150577f9eb58bd937f5452cb8
untagged: redis:alpine
untagged: redis@sha256:c35af3bbcef51a62c8bae5a9a563c6f1b60d7ebaea4cb5a3ccbcc157580ae098
deleted: sha256:7d06252fad43690f61cbb858628b933fd85f048aaba4c05e577274b2c77cd7cb
deleted: sha256:f84d060cad0ab71233833c557876af2f215f0fefec722460626113bf1b752266
deleted: sha256:3e0fdfa6c9211180cd33f8545d7e2190a791ee23e69ae2e1017e082db07fdb85
deleted: sha256:95f5267d1a49d63f3ada2c6c7234cb31d68ce6b0d4c7ea53bea0f9f1de1e3067
deleted: sha256:e85af1712aa07e2732cad887d8027efaeb98d4579cdc2d55d3f6ca9dd729bf34
deleted: sha256:c37a6e8374e357826817411abebbb6febe86f61d9624b31d8d5ddf0654b05544
deleted: sha256:71aeab11bf660ddfb7e60541a8902bcb1eae50d11ad3095f66f087993a4ec5b5
deleted: sha256:9efb0ed04a8a6b06d559156cc0a765af5fd90ef8045508af90c40fa15c4a50ce
untagged: postgres:15-alpine
untagged: postgres@sha256:620dc79c45816cff4f38f0b49c71f15a3bc6bab9439ba1eea3a76d23ebcf1e4d
deleted: sha256:fc9156a9e8b840766922b608e7ea181f379894a5bb67d60f526b5e4a0040112a
deleted: sha256:38757f2b5ff048c0dbe19ad02d5a5986f514b734422e1e53bb5f6cf39d8aa0f2
deleted: sha256:bf23bc4f7dde7f5aef4f73d58edc19b5cc8039514b449e0f26ffe46e53f44e7f
deleted: sha256:42dbb1fb29ef15d1a60f208b6c323df30c6aae683350739b916ed992d2ba0ed7
deleted: sha256:6b2edefd34378fee36214a2ac5951d2e476325b46e5fc9b2c93b8e4985dacb9e
deleted: sha256:065d7283f1ee6d4b49a349710c12596b85165fc50079428900e45f539de34932
deleted: sha256:4b27cec34d0bbf5a1f8b2e182c193ebfad3823e1769496a30848726c7c154c75
deleted: sha256:bd6f3b4d18835f1a72da4716ff9904a50cb261ff943c0bae5fe1200e86fa45f6
deleted: sha256:0f0f7249e191a3fd91793f17295c060b05a29fb7d9ea25dd1d3b78977b23f7fa
deleted: sha256:9d47d9af57a14622ae23fc361e45c34a8a3980b2c508b88dc37bf2aa1a891df0
deleted: sha256:cdb734bff2c97baa4829b78df1c7508dbb7db7d96d09a4fd579889df98de36a7
deleted: sha256:63ca1fbb43ae5034640e5e6cb3e083e05c290072c5366fcaa9d62435a4cced85

Total reclaimed space: 710.7MB

C:\practisebase\spring-boot-postgres-on-k8s-sample>



docker run --hostname=spring-boot-postgres-sample-868fcc4d97-zztqc 
--user=65535:65535 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 
--network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2024-12-10T05:35:59.375957431Z' 
--label='annotation.kubernetes.io/config.source=api' --label='app=spring-boot-postgres-sample' 
--label='io.kubernetes.container.name=POD' --label='io.kubernetes.docker.type=podsandbox' 
--label='io.kubernetes.pod.name=spring-boot-postgres-sample-868fcc4d97-zztqc' 
--label='io.kubernetes.pod.namespace=default' 
--label='io.kubernetes.pod.uid=f235890e-22ac-4bdc-9b6a-e247100f0418' --label='pod-template-hash=868fcc4d97' 
--runtime=runc -d registry.k8s.io/pause:3.9


docker run --hostname=postgres-6bc4f8ddb8-8rq6g --user=65535:65535 
--env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 
--network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2024-12-10T05:35:59.375962547Z' 
--label='annotation.kubernetes.io/config.source=api' --label='app=postgres' --label='io.kubernetes.container.name=POD'
 --label='io.kubernetes.docker.type=podsandbox' --label='io.kubernetes.pod.name=postgres-6bc4f8ddb8-8rq6g' 
 --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=195446f3-a0b1-4b5e-967a-511a2ffaf6a2' 
 --label='pod-template-hash=6bc4f8ddb8' --runtime=runc -d registry.k8s.io/pause:3.9




/var/lib/docker/containers/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762-json.log",


	},
	"Image": "sha256:e6f1816883972d4be47bd48879a08919b96afcd344132622e4d444987919323c",
	"ResolvConfPath": "/var/lib/docker/containers/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762/resolv.conf",
	"HostnamePath": "/var/lib/docker/containers/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762/hostname",
	"HostsPath": "/var/lib/docker/containers/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762/hosts",
	"LogPath": "/var/lib/docker/containers/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762/9b914c193120afea210c5dc2e51caf145519b749a16dfe96e684fc135a7ae762-json.log",
	"Name": "/k8s_POD_spring-boot-postgres-sample-868fcc4d97-zztqc_default_f235890e-22ac-4bdc-9b6a-e247100f0418_9",
    
    
    
    C:\Users\vg5\AppData\Local\Docker\wsl\disk
    
    docker_data  -- 14.4 gb
    
    
    https://stackoverflow.com/questions/60408574/how-to-access-var-lib-docker-in-windows-10-docker-desktop
    

C:\Users\vg5\AppData\Local\Docker\log\host



https://forums.docker.com/t/specifying-docker-run-command-through-docker-desktop-gui/137704


//////////////////////////////////////////cleanup --------------

--------------------------------------------------------------------------------

C:\practisebase\spring-boot-postgres-on-k8s-sample>cd specs

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>dir
 Volume in drive C is Windows
 Volume Serial Number is B027-41CC

 Directory of C:\practisebase\spring-boot-postgres-on-k8s-sample\specs

23-09-2024  17:10    <DIR>          .
20-09-2024  15:19    <DIR>          ..
20-09-2024  14:54             1,503 postgres - Copy.yml
20-09-2024  14:54             1,503 postgres.yml
20-09-2024  17:19             2,491 postgresnew.yml
20-09-2024  14:54               928 spring-boot-app - Copy.yml
23-09-2024  17:08               915 spring-boot-app.yml
23-09-2024  17:10             1,509 spring-boot-appnew.yml
               6 File(s)          8,849 bytes
               2 Dir(s)  58,968,064,000 bytes free

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>kubectl delete -f specs/spring-boot-appnew.yml
error: the path "specs/spring-boot-appnew.yml" does not exist

C:\practisebase\spring-boot-postgres-on-k8s-sample\specs>cd ..

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete -f specs/spring-boot-appnew.yml
deployment.apps "spring-boot-postgres-sample" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete svc spring-boot-postgres-sample
service "spring-boot-postgres-sample" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete cm hostname-config
configmap "hostname-config" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete -f specs/postgresnew.yml
persistentvolumeclaim "postgres-pv-claim" deleted
deployment.apps "postgres" deleted
Error from server (NotFound): error when deleting "specs/postgresnew.yml": configmaps "postgres-config" not found
Error from server (NotFound): error when deleting "specs/postgresnew.yml": services "postgres" not found

C:\practisebase\spring-boot-postgres-on-k8s-sample>


C:\progone\java\zulu21.32.17-ca-jdk21.0.2-win_x64\bin


kubectl scale deployment spring-boot-postgres-sample --replicas=1



kubectl describe pods


C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete spring-boot-postgres-sample-868fcc4d97-jx68t
error: the server doesn't have a resource type "spring-boot-postgres-sample-868fcc4d97-jx68t"

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete pod spring-boot-postgres-sample-868fcc4d97-jx68t
pod "spring-boot-postgres-sample-868fcc4d97-jx68t" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl delete pod spring-boot-postgres-sample-868fcc4d97-mwjb9
pod "spring-boot-postgres-sample-868fcc4d97-mwjb9" deleted

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get pods
NAME                                           READY   STATUS             RESTARTS      AGE
postgres-6bc4f8ddb8-gxxzx                      1/1     Running            0             85m
spring-boot-postgres-sample-868fcc4d97-46vz8   0/1     Error              1 (18s ago)   22s
spring-boot-postgres-sample-868fcc4d97-7dx4m   0/1     CrashLoopBackOff   4 (72s ago)   3m6s
spring-boot-postgres-sample-868fcc4d97-tc546   0/1     Error              0             4s


kubectl set image deployment 

https://kubernetes.io/docs/reference/kubectl/generated/kubectl_set/kubectl_set_image/

kubectl scale deployments 


https://kubernetes.io/docs/reference/kubectl/generated/

https://learnk8s.io/spring-boot-kubernetes-guide     --new sample




docker run --hostname=spring-boot-postgres-sample-5df9bfb6f5-vctl6 --user=65535:65535 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin --network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2024-12-17T06:46:00.104900496Z' --label='annotation.kubernetes.io/config.source=api' --label='app=spring-boot-postgres-sample' --label='io.kubernetes.container.name=POD' --label='io.kubernetes.docker.type=podsandbox' --label='io.kubernetes.pod.name=spring-boot-postgres-sample-5df9bfb6f5-vctl6' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=3b4e56e1-01ef-40e7-a8b6-ab6e70998eb7' --label='pod-template-hash=5df9bfb6f5' --runtime=runc -d registry.k8s.io/pause:3.9

docker run --hostname=spring-boot-postgres-sample-5df9bfb6f5-vctl6 --user=65535:65535 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin --network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2024-12-17T06:46:00.104900496Z' --label='annotation.kubernetes.io/config.source=api' --label='app=spring-boot-postgres-sample' --label='io.kubernetes.container.name=POD' --label='io.kubernetes.docker.type=podsandbox' --label='io.kubernetes.pod.name=spring-boot-postgres-sample-5df9bfb6f5-vctl6' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=3b4e56e1-01ef-40e7-a8b6-ab6e70998eb7' --label='pod-template-hash=5df9bfb6f5' --runtime=runc -d registry.k8s.io/pause:3.9






docker build -t girishvdock1/spring-boot-postgres-on-k8s:v5 .

docker push  girishvdock1/spring-boot-postgres-on-k8s:v5

--kubectl set image deployment/spring-boot-postgres-sample spring-boot-postgres-sample=girishvdock1/spring-boot-postgres-on-k8s:v5

kubectl create -f specs/spring-boot-appnew.yml


mvnw -DskipTests package



ENTRYPOINT [“java”, “-Xmx512m”, “-Xms512m”, “-XX:+UseG1GC”, “-XX:MaxGCPauseMillis=100”, “-jar”, “/gatekeeper-oci-1.0.0.0/lib/gatekeeper-1.0.0.0.jar”]


-Dsun.misc.URLClassPath.disableJarChecking=true --add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/sun.security.action=ALL-UNNAMED --add-opens java.base/sun.net=ALL-UNNAMED

-D
"sun.misc.URLClassPath.disableJarChecking=true" 
"--add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED" 
"--add-opens java.base/java.lang=ALL-UNNAMED"
"--add-opens java.base/sun.security.action=ALL-UNNAMED" 
"--add-opens java.base/sun.net=ALL-UNNAMED"

ENTRYPOINT ["java",
"-Dsun.misc.URLClassPath.disableJarChecking=true" ,"--add-opens jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED",
"--add-opens java.base/java.lang=ALL-UNNAMED","--add-opens java.base/sun.security.action=ALL-UNNAMED", 
"--add-opens java.base/sun.net=ALL-UNNAMED",
"-jar", "/app.jar"]



ENTRYPOINT ["java", "-jar", "/app.jar"]

ENTRYPOINT ["java", "-jar", "/app.jar"]


ENTRYPOINT ["java", "--add-opens","java.base/java.lang=ALL-UNNAMED", "-jar", "engine.jar", "--spring.config.additional-location=file:/engine-configuration.yml"]


ENTRYPOINT ["java", "-jar", "/app.jar"]

ENTRYPOINT ["java", "--add-opens","jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED", 
"--add-opens","java.base/java.lang=ALL-UNNAMED",
"--add-opens","java.base/sun.security.action=ALL-UNNAMED",
"--add-opens","java.base/sun.net=ALL-UNNAMED",
"-jar", "/app.jar"]


ENTRYPOINT ["java", "--add-opens","jdk.naming.rmi/com.sun.jndi.rmi.registry=ALL-UNNAMED", "--add-opens","java.base/java.lang=ALL-UNNAMED","--add-opens","java.base/sun.security.action=ALL-UNNAMED","--add-opens","java.base/sun.net=ALL-UNNAMED","-jar", "/app.jar"]


mvnw clean
>docker login
mvnw -DskipTests package

docker build -t girishvdock1/spring-boot-postgres-on-k8s:v5 .


kubectl delete -f specs/spring-boot-appnew.yml
kubectl delete svc spring-boot-postgres-sample
kubectl delete cm hostname-config
kubectl delete -f specs/postgresnew.yml
docker image prune -a

kubectl expose deployment spring-boot-postgres-sample --type=LoadBalancer --port=8080

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl expose deployment spring-boot-postgres-sample --type=LoadBalancer --port=8080
service/spring-boot-postgres-sample exposed

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc spring-boot-postgres-sample
NAME                          TYPE           CLUSTER-IP     EXTERNAL-IP   PORT(S)          AGE
spring-boot-postgres-sample   LoadBalancer   10.98.61.106   localhost     8080:31810/TCP   98s



kubectl create -f specs/postgresnew.yml   --creates postgres container 


kubectl get svc postgres -o jsonpath="{.spec.clusterIP}"


kubectl create configmap hostname-config --from-literal=postgres_host=10.105.226.153


mvnw clean
mvnw -DskipTests package

docker build -t girishvdock1/spring-boot-postgres-on-k8s:v5 .






////////postgres
C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create -f specs/postgresnew.yml
configmap/postgres-config created
persistentvolumeclaim/postgres-pv-claim created
deployment.apps/postgres created
service/postgres created

C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl get svc postgres -o jsonpath="{.spec.clusterIP}"
10.105.226.153
C:\practisebase\spring-boot-postgres-on-k8s-sample>kubectl create configmap hostname-config --from-literal=postgres_host=10.105.226.153
configmap/hostname-config created
///////////////////////////////////////


docker run --hostname=postgres-6bc4f8ddb8-qfgsq --user=0 --env=POSTGRES_USER=admin --env=POSTGRES_PASSWORD=c1oudc0w --env=PGDATA=/var/lib/postgresql/data/pgdata --env=KUBERNETES_SERVICE_HOST=10.96.0.1 --env=POSTGRES_SERVICE_HOST=10.105.226.153 --env=POSTGRES_PORT=tcp://10.105.226.153:5432 --env=POSTGRES_PORT_5432_TCP_ADDR=10.105.226.153 --env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_PROTO=tcp --env=KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 --env=POSTGRES_PORT_5432_TCP_PROTO=tcp --env=POSTGRES_PORT_5432_TCP_PORT=5432 --env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_ADDR=10.98.61.106 --env=KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 --env=POSTGRES_SERVICE_PORT=5432 --env=SPRING_BOOT_POSTGRES_SAMPLE_SERVICE_PORT=8080 --env=SPRING_BOOT_POSTGRES_SAMPLE_PORT=tcp://10.98.61.106:8080 --env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_PORT=8080 --env=POSTGRES_PORT_5432_TCP=tcp://10.105.226.153:5432 --env=SPRING_BOOT_POSTGRES_SAMPLE_SERVICE_HOST=10.98.61.106 --env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP=tcp://10.98.61.106:8080 --env=KUBERNETES_SERVICE_PORT=443 --env=KUBERNETES_SERVICE_PORT_HTTPS=443 --env=KUBERNETES_PORT=tcp://10.96.0.1:443 --env=KUBERNETES_PORT_443_TCP_PROTO=tcp --env=KUBERNETES_PORT_443_TCP_PORT=443 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/lib/postgresql/17/bin --env=GOSU_VERSION=1.17 --env=LANG=en_US.utf8 --env=PG_MAJOR=17 --env=PG_VERSION=17.2-1.pgdg120+1 --volume=/var/lib/k8s-pvs/postgres-pv-claim/pvc-8bd8a55a-72f9-492b-bf01-36547a0c9be6:/var/lib/postgresql/data --volume=/var/lib/kubelet/pods/5f444aaa-ce54-4591-868b-bec05db44087/volumes/kubernetes.io~projected/kube-api-access-64lx2:/var/run/secrets/kubernetes.io/serviceaccount:ro --volume=/var/lib/kubelet/pods/5f444aaa-ce54-4591-868b-bec05db44087/etc-hosts:/etc/hosts --volume=/var/lib/kubelet/pods/5f444aaa-ce54-4591-868b-bec05db44087/containers/postgres/04422b44:/dev/termination-log --volume=/var/lib/postgresql/data --network=container:54bac908116a8bb3c7ce7761b72666f5a497b91a288dda694a6b8f8a0e632b5e --restart=no --label='annotation.io.kubernetes.container.hash=33094108' --label='annotation.io.kubernetes.container.ports=[{"name":"postgres","containerPort":5432,"protocol":"TCP"}]' --label='annotation.io.kubernetes.container.restartCount=4' --label='annotation.io.kubernetes.container.terminationMessagePath=/dev/termination-log' --label='annotation.io.kubernetes.container.terminationMessagePolicy=File' --label='annotation.io.kubernetes.pod.terminationGracePeriod=30' --label='io.kubernetes.container.logpath=/var/log/pods/default_postgres-6bc4f8ddb8-qfgsq_5f444aaa-ce54-4591-868b-bec05db44087/postgres/4.log' --label='io.kubernetes.container.name=postgres' --label='io.kubernetes.docker.type=container' --label='io.kubernetes.pod.name=postgres-6bc4f8ddb8-qfgsq' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=5f444aaa-ce54-4591-868b-bec05db44087' --label='io.kubernetes.sandbox.id=54bac908116a8bb3c7ce7761b72666f5a497b91a288dda694a6b8f8a0e632b5e' --runtime=runc -d postgres@sha256:888402a8cd6075c5dc83a31f58287f13306c318eaad016661ed12e076f3e6341



/////////////////
aws eks

https://medium.com/@javatechie/deploying-a-spring-boot-application-on-aws-eks-fdd7d075f034


//////
https://www.docker.com/blog/how-kinsta-improved-the-end-to-end-development-experience-by-dockerizing-every-step-of-the-production-cycle/?utm_campaign=2023-08-28-innovation-b-4&utm_medium=email&utm_source=marketo&mkt_tok=NzkwLVNTQi0zNzUAAAGYBMxC5BrhAEMZ1FeGwtbv39FxZnC6niN6yPvIEHaoo4M658wE98b0_fLscLvfujrxxPAVCTEG4Lq2VaDfMTd4CYSYdLuzn7roFuwB5cOgWbRS


This request form is to be used to request a new Software Title to be added to the Software Catalog.


https://stackoverflow.com/questions/73522884/im-trying-to-use-minikube-but-i-dont-want-to-install-docker-desktop

https://minikube.sigs.k8s.io/docs/tutorials/docker_desktop_replacement/

https://adibsaikali.com/2020/07/25/minikube-vs-docker-desktop-for-local-development/


https://stackoverflow.com/questions/47603689/minikube-not-starting-on-windows-10

C:\WINDOWS\system32> minikube start --vm-driver=hyperv


english page 1-14
hindi-15-24
kannada-25-30
maths-31-39
science-40-57
social-58-69
computer-70-84
gk-85-87



docker run --hostname=spring-boot-postgres-sample-6dfff8c96f-thxt9 --user=0 
--env=POSTGRES_USER=admin --env=POSTGRES_PASSWORD=c1oudc0w 
--env=POSTGRES_HOST=10.105.226.153 
--env=KUBERNETES_PORT=tcp://10.96.0.1:443 
--env=KUBERNETES_PORT_443_TCP_PORT=443 
--env=KUBERNETES_PORT_443_TCP_ADDR=10.96.0.1 
--env=POSTGRES_PORT_5432_TCP_PROTO=tcp 
--env=SPRING_BOOT_POSTGRES_SAMPLE_SERVICE_HOST=10.98.61.106 
--env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP=tcp://10.98.61.106:8080 
--env=KUBERNETES_SERVICE_HOST=10.96.0.1 
--env=KUBERNETES_SERVICE_PORT=443 
--env=KUBERNETES_PORT_443_TCP=tcp://10.96.0.1:443 
--env=POSTGRES_PORT_5432_TCP_ADDR=10.105.226.153 
--env=SPRING_BOOT_POSTGRES_SAMPLE_PORT=tcp://10.98.61.106:8080 
--env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_PROTO=tcp 
--env=KUBERNETES_SERVICE_PORT_HTTPS=443 
--env=SPRING_BOOT_POSTGRES_SAMPLE_SERVICE_PORT=8080 
--env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_PORT=8080 
--env=SPRING_BOOT_POSTGRES_SAMPLE_PORT_8080_TCP_ADDR=10.98.61.106 
--env=KUBERNETES_PORT_443_TCP_PROTO=tcp 
--env=POSTGRES_SERVICE_HOST=10.105.226.153 
--env=POSTGRES_SERVICE_PORT=5432 
--env=POSTGRES_PORT=tcp://10.105.226.153:5432 
--env=POSTGRES_PORT_5432_TCP=tcp://10.105.226.153:5432 
--env=POSTGRES_PORT_5432_TCP_PORT=5432 
--env=PATH=/usr/java/openjdk-21/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin 
--env=JAVA_HOME=/usr/java/openjdk-21 
--env=LANG=C.UTF-8 
--env=JAVA_VERSION=21 
--volume=/var/lib/kubelet/pods/25122fc1-2aa2-465c-a1ed-ec85d3df5197/volumes/kubernetes.io~projected/kube-api-access-68vmr:/var/run/secrets/kubernetes.io/serviceaccount:ro --volume=/var/lib/kubelet/pods/25122fc1-2aa2-465c-a1ed-ec85d3df5197/etc-hosts:/etc/hosts --volume=/var/lib/kubelet/pods/25122fc1-2aa2-465c-a1ed-ec85d3df5197/containers/spring-boot-postgres-sample/8bd85691:/dev/termination-log --network=container:3f0134017667882a580e86395e6eaaa0bbf06526dd0a2cb03eb906a1dc46e4c5 --restart=no --label='annotation.io.kubernetes.container.hash=b2c594aa' --label='annotation.io.kubernetes.container.restartCount=9' --label='annotation.io.kubernetes.container.terminationMessagePath=/dev/termination-log' --label='annotation.io.kubernetes.container.terminationMessagePolicy=File' --label='annotation.io.kubernetes.pod.terminationGracePeriod=30' --label='io.kubernetes.container.logpath=/var/log/pods/default_spring-boot-postgres-sample-6dfff8c96f-thxt9_25122fc1-2aa2-465c-a1ed-ec85d3df5197/spring-boot-postgres-sample/9.log' --label='io.kubernetes.container.name=spring-boot-postgres-sample' --label='io.kubernetes.docker.type=container' --label='io.kubernetes.pod.name=spring-boot-postgres-sample-6dfff8c96f-thxt9' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=25122fc1-2aa2-465c-a1ed-ec85d3df5197' --label='io.kubernetes.sandbox.id=3f0134017667882a580e86395e6eaaa0bbf06526dd0a2cb03eb906a1dc46e4c5' --runtime=runc -d sha256:a07ea0ba5bc1a0ad6067e46183ea8b650e746e4983cdb74bdc61eaf4219ec9a7


docker run --hostname=spring-boot-postgres-sample-6dfff8c96f-thxt9 
--user=65535:65535 --env=PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin --network=none --workdir=/ --restart=no --label='annotation.kubernetes.io/config.seen=2025-01-16T06:37:21.006891511Z' --label='annotation.kubernetes.io/config.source=api' --label='app=spring-boot-postgres-sample' --label='io.kubernetes.container.name=POD' --label='io.kubernetes.docker.type=podsandbox' --label='io.kubernetes.pod.name=spring-boot-postgres-sample-6dfff8c96f-thxt9' --label='io.kubernetes.pod.namespace=default' --label='io.kubernetes.pod.uid=25122fc1-2aa2-465c-a1ed-ec85d3df5197' --label='pod-template-hash=6dfff8c96f' --runtime=runc -d registry.k8s.io/pause:3.9

